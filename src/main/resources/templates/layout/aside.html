<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->

<!--<th:block th:fragment="aside">-->
<!--    &lt;!&ndash; 부트스트램 cdn 추가 &ndash;&gt;-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">-->
<!--    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>-->
<!--    <aside class="side-container">-->
<!--        <div class="vertical-menu ">-->
<!--            <a href="/"><i class="fas fa-arrow-alt-circle-right"></i>-->
<!--                <img class="fs-4" src="../assets/brand/bootstrap-logo.svg" th:src="@{/images/heart.svg}" alt="" width="16" height="16">-->
<!--                <span>&nbsp; Everywhere</span>-->
<!--            </a>-->
<!--            <hr>-->
<!--            <br>-->
<!--            <a href="/search"><i class=" fas fa-user-circle"></i><span>&nbsp; 검색</span></a>-->
<!--            <a href="/chat"><i class=" fas fa-user-circle"></i><span>&nbsp; 메시지</span></a>-->
<!--            <a href="#" data-bs-toggle="modal" data-bs-target="#postModal"><i class="fas fa-user-circle"></i><span>&nbsp; 게시글추가</span></a>-->
<!--            <a href="/setup"><i class=" fas fa-user-circle"></i><span>&nbsp; 사용자 설정</span></a>-->

<!--            <th:block sec:authorize="isAuthenticated()">-->
<!--                &lt;!&ndash; 인증 받음 &ndash;&gt;-->
<!--                <a href="/logout" class="icons me-2 ms-2">로그아웃</a>-->
<!--            </th:block>-->
<!--        </div>-->
<!--    </aside>-->

<!--    <style>-->
<!--        .field-error {-->
<!--            border-color: #dc3545;-->
<!--            color: #dc3545;-->
<!--        }-->
<!--    </style>-->

<!--    &lt;!&ndash; Modal &ndash;&gt;-->
<!--    <div class="modal fade" id="postModal" tabindex="-1" aria-labelledby="postModalLabel" aria-hidden="true">-->
<!--        <div class="modal-dialog modal-lg">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <h5 class="modal-title" id="postModalLabel">게시글 추가</h5>-->
<!--                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <form id="postForm">-->
<!--                        <div>-->
<!--                            <textarea class="form-control" id="caption" name="caption"></textarea>-->
<!--                            <label for="caption">내용</label>-->
<!--                            <div class="field-error" id="captionError"></div>-->
<!--                        </div>-->
<!--                        <div>-->
<!--                            <input type="file" class="form-control" id="imageUrl" name="imageUrl" onchange="previewImage(event)">-->
<!--                            <label for="imageUrl">이미지</label>-->
<!--                            <img id="imagePreview" src="#" alt="Image Preview" style="display: none;">-->
<!--                            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>-->
<!--                            <div class="field-error" id="imageUrlError"></div>-->
<!--                        </div>-->
<!--                        <div class="modal-footer">-->
<!--                            <button type="button" class="btn btn-primary" id="btn_submit" onclick="inputData(event)">게시물 업로드</button>-->
<!--                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>-->
<!--                        </div>-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        document.addEventListener('DOMContentLoaded', function () {-->
<!--            var previewImage = function(event) {-->
<!--                var reader = new FileReader();-->
<!--                reader.onload = function() {-->
<!--                    var output = document.getElementById('imagePreview');-->
<!--                    output.src = reader.result;-->
<!--                    output.style.display = 'block';-->
<!--                };-->
<!--                reader.readAsDataURL(event.target.files[0]);-->
<!--            };-->

<!--            document.getElementById('imageUrl').addEventListener('change', previewImage);-->
<!--        });-->

<!--        function inputData(event) {-->
<!--            event.preventDefault(); // 폼 제출 막기-->
<!--            var form = document.getElementById('postForm');-->
<!--            var formData = new FormData(form);-->

<!--            var jsonObject = {};-->
<!--            formData.forEach((value, key) => {-->
<!--                if (key === "imageUrl") {-->
<!--                    jsonObject[key] = value.name; // 파일명만 전송-->
<!--                } else {-->
<!--                    jsonObject[key] = value;-->
<!--                }-->
<!--            });-->

<!--            $.ajax({-->
<!--                url: "/submitPost",-->
<!--                data: JSON.stringify(jsonObject),-->
<!--                type: "POST",-->
<!--                cache: false,-->
<!--                contentType: "application/json",-->
<!--                processData: false,-->
<!--                success: function(response) {-->
<!--                    if ($(response).find("#postForm").length > 0) {-->
<!--                        $("#postForm").replaceWith(response);-->
<!--                        alert("실패");-->
<!--                    } else {-->
<!--                        $("input[type=text]").val("");-->
<!--                        $('.err').text("");-->
<!--                        alert("성공");-->
<!--                    }-->
<!--                },-->
<!--                error: function() {-->
<!--                    alert("서버 오류가 발생했습니다.");-->
<!--                }-->
<!--            });-->
<!--        }-->
<!--    </script>-->
<!--</th:block>-->
<!--</html>-->




<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="aside">
<!--    부트스트램 cdn 추가 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <aside class="side-container">
        <div class="vertical-menu ">
            <a href="/"><i class="fas fa-arrow-alt-circle-right"></i>
                <img class="fs-4" src="../assets/brand/bootstrap-logo.svg" th:src="@{/images/heart.svg}" alt="" width="16" height="16">
                <span>&nbsp; Everywhere</span>
            </a>
<!--            <button type="button" class="btn btn-success w-100 text-start"><span class="fa fa-home"></span> Home</button>-->
            <hr>
            <br>
            <a href="/notice"><i class=" fas fa-user-circle"></i><span>&nbsp;알림</span></a>
            <a href="/member/follow"><i class=" fas fa-user-circle"></i><span>&nbsp;친구검색</span></a>
            <a href="/chat/chat"><i class=" fas fa-user-circle"></i><span>&nbsp; 메시지</span></a>
            <a href="/board/post"><i class=" fas fa-user-circle"></i><span>&nbsp; 게시글 추가</span></a>
<!--            <a href="#" data-bs-toggle="modal" data-bs-target="#postModal"><i class="fas fa-user-circle"></i><span>&nbsp; 게시글추가</span></a>-->
            <a href="/setup/changeInfo"><i class=" fas fa-user-circle"></i><span>&nbsp; 사용자 설정</span></a>


            <th:block sec:authorize="isAuthenticated()">
                <!-- 인증 받음 -->
                <a href="/logout" class="icons me-2 ms-2">로그아웃</a>
            </th:block>
        </div>

    </aside>

<!--    <style>-->
<!--        .field-error {-->
<!--        border-color: #dc3545;-->
<!--        color: #dc3545;-->
<!--    </style>-->

    <!-- Modal   -->
<!--    <div class="modal fade" id="postModal" tabindex="-1" aria-labelledby="postModalLabel" aria-hidden="true">-->
<!--        <div class="modal-dialog modal-lg">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <h5 class="modal-title" id="postModalLabel">게시글 추가</h5>-->
<!--                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <h1>게시글 추가</h1>-->
<!--                    <form action="/" th:action="@{/}" method="post" enctype="multipart/form-data" th:object="${postDTO}" id="postForm">-->
<!--&lt;!&ndash;                        <form action="/loginProc" th:action="@{/loginProc}" method="post" name="loginForm">&ndash;&gt;-->
<!--                        <div th:if="${#fields.hasGlobalErrors()}">-->
<!--                            <p class="field-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}"> 전체 오류 메세지 </p>-->
<!--                        </div>-->
<!--                        <div>-->
<!--                            <textarea class="form-control" id="caption" th:field="*{caption}" th:errorclass="field-error"></textarea>-->
<!--                            <label for="caption">내용</label>-->
<!--&lt;!&ndash;                            <div th:if="${#fields.hasErrors('caption')}" th:errors="*{caption}">내용 오류</div>&ndash;&gt;-->
<!--                            <div class="field-error" th:errors="*{caption}"></div>-->
<!--&lt;!&ndash;                            참조 소스 &ndash;&gt;-->
<!--&lt;!&ndash;                            <input type="text" class="form-control" id="username" th:field="*{username}" placeholder="Username" th:errorclass="field-error"/>&ndash;&gt;-->
<!--&lt;!&ndash;                            <label for="username">아이디</label>&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="field-error" th:errors="*{username}">&ndash;&gt;-->
<!--                        </div>-->
<!--                        <div>-->
<!--                            <input type="file" class="form-control" id="imageUrl" th:field="*{imageUrl}" onchange="previewImage(event)" th:errorclass="field-error">-->
<!--                            <label for="imageUrl">이미지</label>-->
<!--                            <img id="imagePreview" src="#" alt="Image Preview" style="display: none;">-->
<!--                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>-->
<!--&lt;!&ndash;                            <div th:if="${#fields.hasErrors('imageUrl')}" th:errors="*{imageUrl}">이미지 오류</div>&ndash;&gt;-->
<!--                            <div class="field-error" th:errors="*{imageUrl}"></div>-->
<!--                        </div>-->
<!--&lt;!&ndash;                        <div>&ndash;&gt;-->
<!--&lt;!&ndash;                            <button class="form-control" type="submit">추가</button>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--                        <div class="modal-footer">-->
<!--                            <button type="submit" class="btn btn-primary" id="btn_submit" onclick="inputData(this)">게시물 업로드</button>-->
<!--&lt;!&ndash;                            &ndash;&gt;-->
<!--                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">취소</button>-->
<!--                        </div>-->
<!--                    </form>-->

<!--                </div>-->

<!--            </div>-->
<!--        </div>-->
<!--    </div>-->


<!--    <script>   //스크립트 주석처리 게시글 추가 modal창 > 화면단 get 단으로 뺼것-->
<!--        document.addEventListener('DOMContentLoaded', function () {-->
<!--            var previewImage = function(event) {-->
<!--                var reader = new FileReader();-->
<!--                reader.onload = function() {-->
<!--                    var output = document.getElementById('imagePreview');-->
<!--                    output.src = reader.result;-->
<!--                    output.style.display = 'block';-->
<!--                };-->
<!--                reader.readAsDataURL(event.target.files[0]);-->
<!--            };-->

<!--            document.getElementById('imageUrl').addEventListener('change', previewImage);-->
<!--        });-->



<!--        function inputData(event) {-->
<!--            event.preventDefault(); // 폼 제출 막기-->
<!--            var form = document.getElementById('postForm');-->
<!--            var formData = new FormData(form);-->

<!--            $.ajax({-->
<!--                url: form.action,-->
<!--                data: formData,-->
<!--                type: "POST",-->
<!--                cache: false,-->
<!--                processData: false,-->
<!--                contentType: false-->
<!--            }).done(function(response) {-->
<!--                if ($(response).find("#postForm").length > 0) { // 폼이 존재하는지 여부 (실패)-->
<!--                    $("#postForm").replaceWith(response);-->
<!--                    alert("실패");-->
<!--                } else { // 성공-->
<!--                    $("input[type=text]").val("");-->
<!--                    $('.err').text("");-->
<!--                    alert("성공");-->
<!--                }-->
<!--            }).fail(function() {-->
<!--                alert("서버 오류가 발생했습니다.");-->
<!--            });-->
<!--        }-->

<!--    </script>-->
</th:block>
</html>